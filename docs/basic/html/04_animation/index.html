<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="过渡和动画 # 页面中元素的变化，按照变化发起的逻辑可以分为触发型和自动型。
让元素发生变化，有三种方式：
CSS：适合简单的变化效果， CSS+JS：稍微复杂的变化效果，需要配合一下交互的 JS：类似在 canvas 元素上进行 2D 或者 3D 图像绘制的 元素变化的主要的属性：
位置 尺寸 缩放，和尺寸类似，但是会带动元素整体，包裹内部元素进行缩放。 旋转 透明度 投影 颜色 边框 过渡效果 # 将状态从 A 变化到 B，中间的过程就可以用过渡的效果补齐。
过渡属性的格式：transition: {过渡属性} {过渡时间} {过渡变化速度} {延迟时间}。多个属性 , 分隔。
示例：
transition: background 2s：背景颜色变化 2 秒。 transition: background 2s,width 5s：背景颜色变化 2 秒，宽度变化 5 秒。 transition: background 2s 2s：背景颜色变化 2 秒，2 秒之后才开始变化。 transition: all：all 代表所有属性。 transition: all 5s linear：linear 表示线性变化速度。 transition 也可以分开设置：
transition-property：过渡属性。 transition-duration：过渡时间。 transition-timing-function：过渡缓动曲线。默认是 ease。 ease 先慢后快再慢， linear 线性。 ease-in 缓慢进。 ease-out 缓慢出。 cubic-bezier 自定义，贝塞尔曲线。可以使用一下工具来得到换动曲线： 浏览器开发者工具的 cubic-bezier 工具。 cubic-bezier easings steps，步数 transition-delay：过渡延迟时间。 steps # steps(count, start|end) 是一个特殊的时间函数，它和其他关键字 linear 等最大的区别就是，它不是一个连贯的变化，是一步一步的硬切换。"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="过渡和动画"><meta property="og:description" content="过渡和动画 # 页面中元素的变化，按照变化发起的逻辑可以分为触发型和自动型。
让元素发生变化，有三种方式：
CSS：适合简单的变化效果， CSS+JS：稍微复杂的变化效果，需要配合一下交互的 JS：类似在 canvas 元素上进行 2D 或者 3D 图像绘制的 元素变化的主要的属性：
位置 尺寸 缩放，和尺寸类似，但是会带动元素整体，包裹内部元素进行缩放。 旋转 透明度 投影 颜色 边框 过渡效果 # 将状态从 A 变化到 B，中间的过程就可以用过渡的效果补齐。
过渡属性的格式：transition: {过渡属性} {过渡时间} {过渡变化速度} {延迟时间}。多个属性 , 分隔。
示例：
transition: background 2s：背景颜色变化 2 秒。 transition: background 2s,width 5s：背景颜色变化 2 秒，宽度变化 5 秒。 transition: background 2s 2s：背景颜色变化 2 秒，2 秒之后才开始变化。 transition: all：all 代表所有属性。 transition: all 5s linear：linear 表示线性变化速度。 transition 也可以分开设置：
transition-property：过渡属性。 transition-duration：过渡时间。 transition-timing-function：过渡缓动曲线。默认是 ease。 ease 先慢后快再慢， linear 线性。 ease-in 缓慢进。 ease-out 缓慢出。 cubic-bezier 自定义，贝塞尔曲线。可以使用一下工具来得到换动曲线： 浏览器开发者工具的 cubic-bezier 工具。 cubic-bezier easings steps，步数 transition-delay：过渡延迟时间。 steps # steps(count, start|end) 是一个特殊的时间函数，它和其他关键字 linear 等最大的区别就是，它不是一个连贯的变化，是一步一步的硬切换。"><meta property="og:type" content="article"><meta property="og:url" content="http://shipengqi.github.io/frontend-learn/docs/basic/html/04_animation/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2024-08-29T10:04:45+08:00"><title>过渡和动画 | Frontend Learning</title><link rel=manifest href=/frontend-learn/manifest.json><link rel=icon href=/frontend-learn/favicon.png type=image/x-icon><link rel=stylesheet href=/frontend-learn/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css integrity="sha256-gsXb0jRHzuC0wqo+0Izglh+qQOH6Nw7uT4yfAuDUa18=" crossorigin=anonymous><script defer src=/frontend-learn/flexsearch.min.js></script>
<script defer src=/frontend-learn/en.search.min.aa5d454ed0ed2943f2808e66bcd5ad2044ddeba0684227d3de148f2e53790b70.js integrity="sha256-ql1FTtDtKUPygI5mvNWtIETd66BoQifT3hSPLlN5C3A=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/frontend-learn/><span>Frontend Learning</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://shipengqi.github.io/ target=_blank rel=noopener>Blog</a></li><li><a href=https://github.com/shipengqi/frontend-learn target=_blank rel=noopener>Github</a></li></ul><ul><li><span>前端基础</span><ul><li><a href=/frontend-learn/docs/basic/html/>HTML 和 CSS</a><ul><li><a href=/frontend-learn/docs/basic/html/01_tags/>HTML 标签</a></li><li><a href=/frontend-learn/docs/basic/html/02_css/>CSS 常用属性</a></li><li><a href=/frontend-learn/docs/basic/html/03_layout/>布局与定位</a></li><li><a href=/frontend-learn/docs/basic/html/04_animation/ class=active>过渡和动画</a></li><li><a href=/frontend-learn/docs/basic/html/06_selector/>CSS 选择器</a></li><li><a href=/frontend-learn/docs/basic/html/05_other/>其他属性</a></li><li><a href=/frontend-learn/docs/basic/html/07_responsive/>响应式</a></li><li><a href=/frontend-learn/docs/basic/html/08_chrome/>Chrome 使用</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/frontend-learn/svg/menu.svg class=book-icon alt=Menu></label>
<strong>过渡和动画</strong>
<label for=toc-control><img src=/frontend-learn/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#过渡和动画>过渡和动画</a><ul><li><a href=#过渡效果>过渡效果</a><ul><li><a href=#steps>steps</a></li></ul></li><li><a href=#动画效果>动画效果</a></li><li><a href=#过渡和动画的区别>过渡和动画的区别</a></li><li><a href=#转换>转换</a><ul><li><a href=#2d-转换>2D 转换</a></li><li><a href=#3d-转换>3D 转换</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=过渡和动画>过渡和动画
<a class=anchor href=#%e8%bf%87%e6%b8%a1%e5%92%8c%e5%8a%a8%e7%94%bb>#</a></h1><p>页面中元素的变化，按照变化发起的逻辑可以分为<strong>触发型</strong>和<strong>自动型</strong>。</p><p>让元素发生变化，有三种方式：</p><ul><li><strong>CSS</strong>：适合简单的变化效果，</li><li><strong>CSS+JS</strong>：稍微复杂的变化效果，需要配合一下交互的</li><li><strong>JS</strong>：类似在 canvas 元素上进行 2D 或者 3D 图像绘制的</li></ul><p>元素变化的主要的属性：</p><ul><li>位置</li><li>尺寸</li><li>缩放，和尺寸类似，但是会带动元素整体，包裹内部元素进行缩放。</li><li>旋转</li><li>透明度</li><li>投影</li><li>颜色</li><li>边框</li></ul><h2 id=过渡效果>过渡效果
<a class=anchor href=#%e8%bf%87%e6%b8%a1%e6%95%88%e6%9e%9c>#</a></h2><p>将状态从 A 变化到 B，中间的过程就可以用过渡的效果补齐。</p><p>过渡属性的格式：<code>transition: {过渡属性} {过渡时间} {过渡变化速度} {延迟时间}</code>。多个属性 <code>,</code> 分隔。</p><p>示例：</p><ul><li><code>transition: background 2s</code>：背景颜色变化 2 秒。</li><li><code>transition: background 2s,width 5s</code>：背景颜色变化 2 秒，宽度变化 5 秒。</li><li><code>transition: background 2s 2s</code>：背景颜色变化 2 秒，2 秒之后才开始变化。</li><li><code>transition: all</code>：<code>all</code> 代表所有属性。</li><li><code>transition: all 5s linear</code>：<code>linear</code> 表示线性变化速度。</li></ul><p><code>transition</code> 也可以分开设置：</p><ul><li><code>transition-property</code>：过渡属性。</li><li><code>transition-duration</code>：过渡时间。</li><li><code>transition-timing-function</code>：过渡缓动曲线。默认是 <code>ease</code>。<ul><li><code>ease</code> 先慢后快再慢，</li><li><code>linear</code> 线性。</li><li><code>ease-in</code> 缓慢进。</li><li><code>ease-out</code> 缓慢出。</li><li><code>cubic-bezier</code> 自定义，贝塞尔曲线。可以使用一下工具来得到换动曲线：<ul><li>浏览器开发者工具的 <code>cubic-bezier</code> 工具。</li><li><a href=https://cubic-bezier.com/>cubic-bezier</a></li><li><a href=https://easings.co/>easings</a></li></ul></li><li><code>steps</code>，步数</li></ul></li><li><code>transition-delay</code>：过渡延迟时间。</li></ul><h3 id=steps>steps
<a class=anchor href=#steps>#</a></h3><p><code>steps(count, start|end)</code> 是一个特殊的时间函数，它和其他关键字 <code>linear</code> 等最大的区别就是，它不是一个连贯的变化，是一步一步的硬切换。</p><p>例如 <code>steps(3, start|end)</code>，设置了 3 步，也就是会有 4 个状态，如下图：</p><p><img src="https://github.com/shipengqi/illustrations/blob/a944ca701b2f441746e8bbbf111873d8b9e0b910/frontend-learn/basic/steps.png?raw=true" alt=steps></p><ol><li>第一步切换由<code>初始状态</code>到<code>过程状态1</code>。</li><li>第二步由<code>过程状态1</code>到<code>过程状态2</code>。</li><li>第二步由<code>过程状态2</code>到<code>目标状态</code>。</li></ol><p>整个变化过程分为了三个时间段，<code>start</code> 和 <code>end</code> 表示的转台切换是在时间段的开始还是时间段的结束。</p><p>例如 <code>steps(3, start)</code>，就表示时间段一开始，就切换状态，以上图为例，第一个时间段一开始，直接从<code>初始状态</code>就切换到了<code>过程状态1</code>，然后等第一段时间走完，第二段时间开始，<code>过程状态1</code>直接切换到<code>过程状态2</code>，依次类推。</p><p>如果是 <code>steps(3, end)</code>，就表示时间段结束，才切换状态，以上图为例，第一个时间段走完，才从<code>初始状态</code>切换到<code>过程状态1</code>，然后等第二段时间走完，<code>过程状态1</code>切换到<code>过程状态2</code>，依次类推。</p><ul><li><code>step-start</code> 等价于 <code>steps(1, start)</code>。</li><li><code>step-end</code> 等价于 <code>steps(1, end)</code>。</li></ul><p><code>steps</code> 在动画效果中用的更多一点。</p><h2 id=动画效果>动画效果
<a class=anchor href=#%e5%8a%a8%e7%94%bb%e6%95%88%e6%9e%9c>#</a></h2><p>动画要先用 <code>@keyframes</code> 去定义好变化的过程，再去应用到某个元素。</p><p><code>@keyframes {动画名称}</code> 用来设置关键帧，动画的中间过程会被补全。</p><ul><li>只有两个状态时，使用 <code>from</code> 和 <code>to</code>，<code>from</code> 是动画开始时的状态，<code>to</code> 是动画结束时的状态。</li><li>多个状态时，使用百分比，<code>0%</code> 是动画开始时的状态，<code>100%</code> 是动画结束时的状态。更多中间状态用 <code>10%</code>，<code>20%</code>，<code>25%</code> 等。</li></ul><p>定义好变化的过程，再用 <code>animation</code> 去应用到某个元素：<code>animation</code> 是一个复合属性，默认值 <code>none 0 ease 0 1 normal none running</code>。</p><p><code>animation</code> 也可以分开设置：</p><ul><li><code>animation-name</code>：定义动画名称，要和 <code>@keyframes</code> 定义的名称一致。</li><li><code>animation-duration</code>：动画时间。<code>animation-duration</code> 属性是必须的，否则时长为 0，就不会播放动画了。</li><li><code>animation-delay</code>：延迟时间。</li><li><code>animation-timing-function</code>：动画速度，默认是 <code>ease</code>。<ul><li><code>ease</code> 先慢后快。</li><li><code>linear</code> 线性。</li><li><code>steps()</code> 步数。</li><li><code>cubic-bezier()</code> 自定义。可以在浏览器的 <code>cubic-bezier</code> 工具中修改。</li></ul></li><li><code>animation-iteration-count</code> 迭代次数，<code>infinite</code> 表示无限。<ul><li><code>infinite</code> 无限次。</li><li><code>n</code> 表示 n 次。</li></ul></li><li><code>animation-direction</code>：方向，默认是 <code>normal</code>，<code>alternate</code> 表示往返动画。<ul><li><code>normal</code> 默认值，正常播放。</li><li><code>reverse</code> 反向播放。</li><li><code>alternate</code> 往返动画。</li><li><code>alternate-reverse</code> 反向往返动画。</li></ul></li><li><code>animation-fill-mode</code>：最后填充模式，也就是动画结束时，要应用到元素的样式。默认值是 <code>none</code>。<ul><li><code>none</code> 不填充。动画播放完以后回到原始的样式。</li><li><code>forwards</code> 应用动画结束时最后一帧的样式。</li><li><code>backwards</code> 应用动画结束时第一帧的样式。</li><li><code>both</code> 遵循 <code>forwards</code> 和 <code>backwards</code> 的规则，从而在两个方向上扩展动画属性。</li></ul></li><li><code>animation-play-state</code>：动画状态，默认值是 <code>running</code>。<ul><li><code>running</code> 正在播放。</li><li><code>paused</code> 暂停。</li></ul></li></ul><p>示例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>#div1 {
</span></span><span style=display:flex><span>  <span style=color:#75715e>/*3 次动画*/</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>animation-name</span>: demo1;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>animation-duration</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>s</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>animation-timing-function</span>: <span style=color:#66d9ef>ease-in-out</span>;
</span></span><span style=display:flex><span>  <span style=color:#75715e>/*animation: demo1 2s infinite alternate; 无限次的往返动画*/</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@<span style=color:#66d9ef>keyframes</span> <span style=color:#f92672>demo1</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>from</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>0</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#f92672>to</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>500</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@<span style=color:#66d9ef>keyframes</span> <span style=color:#f92672>demo2</span> {
</span></span><span style=display:flex><span>  <span style=color:#f92672>0</span><span style=color:#f92672>%</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>0</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>red</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#f92672>20</span><span style=color:#f92672>%</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>500</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>blue</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#f92672>70</span><span style=color:#f92672>%</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>500</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>green</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>/* 时间函数是可以设置在单独的一段中，只会影响这一段的变化 */</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>animation-timing-function</span>: <span style=color:#66d9ef>linear</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#f92672>100</span><span style=color:#f92672>%</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>transform</span>: translateX(<span style=color:#ae81ff>500</span><span style=color:#66d9ef>px</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>background</span>: <span style=color:#66d9ef>yellow</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=过渡和动画的区别>过渡和动画的区别
<a class=anchor href=#%e8%bf%87%e6%b8%a1%e5%92%8c%e5%8a%a8%e7%94%bb%e7%9a%84%e5%8c%ba%e5%88%ab>#</a></h2><p>过渡的优点在于简单易用，但是它有几个很大的局限：</p><ul><li>需要事件触发，所以没法在网页加载时自动发生。</li><li>是一次性的，不能重复发生，除非一再触发。</li><li>只能定义两个状态，开始状态和结束状态，不能定义中间状态。</li><li>一条过渡规则，只能定义一个属性的变化，不能涉及多个属性。</li></ul><p>动画通过控制关键帧来控制动画的每一步，实现更为复杂的动画效果，可以解决过渡的不足。</p><h2 id=转换>转换
<a class=anchor href=#%e8%bd%ac%e6%8d%a2>#</a></h2><h3 id=2d-转换>2D 转换
<a class=anchor href=#2d-%e8%bd%ac%e6%8d%a2>#</a></h3><p>2D 转换有 2 个轴, <code>x</code>，<code>y</code>。</p><ul><li><strong>平移</strong>：<code>transform: translate(x, y)</code>，<code>x</code> 和 <code>y</code> 可以分开设置（<code>transform: translateX(200px)</code> <code>transform: translateY(100px)</code>）</li><li><strong>旋转</strong>：<code>transform: rotate(x)</code>，<code>transform: rotate(30deg)</code> 顺时针旋转 <code>30</code> 度，负数就是逆时针旋转。</li></ul><h3 id=3d-转换>3D 转换
<a class=anchor href=#3d-%e8%bd%ac%e6%8d%a2>#</a></h3><p>3D 转换实现 3D 立体效果，有 3 个轴, <code>x</code>，<code>y</code>，<code>z</code>。</p><ul><li><strong>透视点</strong>：眼睛与屏幕之间的距离。<code>perspective</code> （<code>perspective: 1000px</code>）意思是距离屏幕 1000 像素点的距离（一般在 <code>&lt;body></code> 上设置透视点）。
透视点的位置默认是屏幕的正中央。</li><li><strong>平移</strong>：<code>transform: translate3d(x, y, z)</code>，也可以分开设置，3D 比 2D 多了一个 <code>translateZ(100px)</code>。</li><li><strong>旋转</strong>：<code>transform: rotate3d(x, y,z, 30deg)</code> 绕着 <code>x</code>，<code>y</code>，<code>z</code> 确定的轴旋转 30 度，<code>rotateX(45deg)</code> 绕着 X 轴旋转 45 度。<code>rotateY()</code> 绕着 Y 轴旋转。<code>rotateZ()</code> 绕着 Z 轴旋转。</li><li><strong>放大和缩小</strong>：<ul><li>放大：<code>transform: scale(3)</code> 放大 3 倍，<code>transform: scale(0.5, 2)</code> 表示水平缩小到 0.5 倍、垂直放大 2 倍。也可以分别设置 <code>transform: scaleX(3)</code> 水平放大 3 倍。<code>scaleY</code> 垂直缩放。</li><li>倾斜：<code>transform: skew(15deg, 0deg)</code> 基于 X 轴倾斜 15 度，Y 轴 0 度。值可以为负数。</li></ul></li><li><code>transform-style: preserve-3d</code>：可以渲染出一些在三维空间中的效果。</li><li><code>transform-origin</code>：设置元素变换的中心点。</li><li><code>transform-box</code>：变换中心点可设置的区域。</li><li><code>perspective-origin</code>：可以修改透视点的位置，例如 <code>perspective-origin: left buttom</code> 将透视点的位置改为左下。</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/shipengqi/frontend-learn/commit/d5c00995c71528cf54dfcd59ddfc0d49455121ca title='Last modified by PengQi Shi | August 29, 2024' target=_blank rel=noopener><img src=/frontend-learn/svg/calendar.svg class=book-icon alt=Calendar>
<span>August 29, 2024</span></a></div><div><a class="flex align-center" href=https://github.com/shipengqi/frontend-learn/edit/master/content/docs/basic/html/04_animation.md target=_blank rel=noopener><img src=/frontend-learn/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#过渡和动画>过渡和动画</a><ul><li><a href=#过渡效果>过渡效果</a><ul><li><a href=#steps>steps</a></li></ul></li><li><a href=#动画效果>动画效果</a></li><li><a href=#过渡和动画的区别>过渡和动画的区别</a></li><li><a href=#转换>转换</a><ul><li><a href=#2d-转换>2D 转换</a></li><li><a href=#3d-转换>3D 转换</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>