(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{163:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vuejs/vuepress",target:"_blank",rel:"noopener noreferrer"}},[t._v("VuePress"),a("OutboundLink")],1),t._v("由两部分组成，一部分是支持用 Vue 开发主题的极简静态网站生成器，另一个部分是为书写技术文档而优化的默认主题。它的诞生初衷是为了支持 Vue 及其子项目的文档需求。")]),t._v(" "),a("p",[t._v("我们这里是使用技术文档默认主题。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._m(3),t._v(" "),t._m(4),a("p",[t._v("开始使用：")]),t._v(" "),t._m(5),a("p",[t._v("构建：")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),a("p",[t._v("更多"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置选项"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(11),t._v(" "),a("p",[t._v("VuePress 自带了一个默认的主题，专为写技术文档，我们就用默认的。查看"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/default-theme-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认主题"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),a("p",[t._v("文件会被复制到正确的位置。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),a("p",[t._v("Webpack 的别名可以通过"),a("code",[t._v(".vuepress/config.js")]),t._v("中"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/config/#configurewebpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("configurewebpack"),a("OutboundLink")],1),t._v("配置。")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),a("p",[t._v("Markdown 文件中也可以上述语法。")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"使用-vuepress-部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-vuepress-部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 VuePress 部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# 将 VuePress 作为一个本地依赖安装")]),t._v("\nyarn add -D vuepress\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" -D vuepress\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 新建一个 docs 文件夹")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" docs\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 新建一个 markdown 文件")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("echo")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"# Hello VuePress!"')]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" docs/README.md\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("修改"),s("code",[this._v("package.json")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"docs:dev"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"vuepress dev ./docs"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"docs:build"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"vuepress build ./docs"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yarn docs:dev\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yarn docs:build\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，静态的 HTML 文件会被生成在"),s("code",[this._v(".vuepress/dist")]),this._v("，可以通过"),s("code",[this._v(".vuepress/config.js")]),this._v("中的"),s("code",[this._v("dest")]),this._v("字段修改。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们再"),s("code",[this._v("docs")]),this._v("目录下创建一个"),s("code",[this._v(".vuepress")]),this._v("文件夹，创建配置文件"),s("code",[this._v(".vuepress/config.js")]),this._v("，暴露出一个 js 对象：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Hello VuePress'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  description"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'Just playing around'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"主题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主题","aria-hidden":"true"}},[this._v("#")]),this._v(" 主题")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 应用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("VuePress 是一个 Vue 应用，我们可以创建一个"),s("code",[this._v(".vuepress/enhanceApp.js")]),this._v("来做一些应用级别的配置。"),s("code",[this._v("enhanceApp.js")]),this._v("应该"),s("code",[this._v("export default")]),this._v("一个钩子函数，\n并接受一个包含了一些应用级别属性的对象作为参数。你可以使用这个钩子来安装一些附加的 Vue 插件、注册全局组件，或者增加额外的路由钩子等：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Vue"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// VuePress 正在使用的 Vue 构造函数")]),t._v("\n  options"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 附加到根实例的一些选项")]),t._v("\n  router"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 当前应用的路由实例")]),t._v("\n  siteData "),a("span",{attrs:{class:"token comment"}},[t._v("// 站点元数据")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token comment"}},[t._v("// ...做一些其他的应用级别的优化")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"静态资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态资源","aria-hidden":"true"}},[this._v("#")]),this._v(" 静态资源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们是使用"),s("code",[this._v("markdown")]),this._v("来编写文档，VuePress 内置了 Markdown 拓展， Markdown 文件会被 webpack 编译成 Vue 组件，可以使用相对路径：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-md extra-class"},[s("pre",{pre:!0,attrs:{class:"language-md"}},[s("code",[s("span",{attrs:{class:"token url"}},[this._v("![An image](./image.png)")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们可以使用"),s("code",[this._v("~")]),this._v("前缀来明确地指出这是一个 webpack 的模块请求：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-md extra-class"},[s("pre",{pre:!0,attrs:{class:"language-md"}},[s("code",[s("span",{attrs:{class:"token url"}},[this._v("![Image from alias](~@alias/image.png)")]),this._v("\n"),s("span",{attrs:{class:"token url"}},[this._v("![Image from dependency](~some-dependency/image.png)")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("公共文件应该放在"),s("code",[this._v(".vuepress/public")]),this._v("中，例如："),s("code",[this._v("favicons")]),this._v("。公共文件会被复制到静态文件夹中。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如果文档被部署到了一个非根路径，需要在"),a("code",[t._v(".vuepress/config.js")]),t._v("中设置"),a("code",[t._v("base")]),t._v("，例如，部署到"),a("code",[t._v("https://foo.github.io/bar/")]),t._v("，那么"),a("code",[t._v("base")]),t._v("的值就应该被设置为"),a("code",[t._v("/bar/")]),t._v("(应当总是以斜杠开始，并以斜杠结束)。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("有了基础路径，如果引用一张放在"),a("code",[t._v(".vuepress/public")]),t._v("中的图片，需要使用这样路径："),a("code",[t._v("/bar/image.png")]),t._v("，如果需要修改"),a("code",[t._v("base")]),t._v("，这样的路径引用将会显得异常脆弱。\n为了解决这个问题，VuePress 提供了内置的一个 helper "),a("code",[t._v("$withBase")]),t._v("（它被注入到了 Vue 的原型上），可以帮助生成正确的路径：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v(":src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("$withBase("),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v("/foo.png"),a("span",{attrs:{class:"token punctuation"}},[t._v("'")]),t._v(")"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("alt")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("foo"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 部署")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("前面我们配置"),s("code",[this._v("package.json")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{attrs:{class:"token string"}},[t._v('"docs:build"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"vuepress build ./docs"')]),t._v("\n "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"github-pages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-pages","aria-hidden":"true"}},[this._v("#")]),this._v(" GitHub Pages")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("如果要发布到"),a("code",[t._v("https://<USERNAME>.github.io/")]),t._v("则不需要配置"),a("code",[t._v("base")]),t._v("，如果要发布到"),a("code",[t._v("https://<USERNAME>.github.io/<REPO>/")]),t._v("\n将"),a("code",[t._v("base")]),t._v("设置为"),a("code",[t._v('"/<REPO>/"')]),t._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("创建部署脚本"),s("code",[this._v("deploy.sh")]),this._v("：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# exit on errors")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),t._v(" -e\n\n"),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run docs:build\n\n"),a("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" docs/.vuepress/dist\n\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" init\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name "),a("span",{attrs:{class:"token string"}},[t._v("'shipengqi'")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.email "),a("span",{attrs:{class:"token string"}},[t._v("'pooky.shipengqi@gmail.com'")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" add -A\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" push -f git@github.com:shipengqi/mVue.git master:gh-pages\n")])])])}],!1,null,null,null);n.options.__file="README.md";s.default=n.exports}}]);