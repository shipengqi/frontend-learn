(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{174:function(e,t,_){"use strict";_.r(t);var v=_(0),a=Object(v.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{staticClass:"content"},[_("h1",{attrs:{id:"vue-如何封装组件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#vue-如何封装组件","aria-hidden":"true"}},[e._v("#")]),e._v(" Vue 如何封装组件")]),e._v(" "),_("p",[e._v("封装通用组件必须具备高性能、低耦合的特性，如何封装一个好的组件？")]),e._v(" "),_("h2",{attrs:{id:"数据从父组件传入"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据从父组件传入","aria-hidden":"true"}},[e._v("#")]),e._v(" 数据从父组件传入")]),e._v(" "),_("ol",[_("li",[e._v("为了低耦合，子组件就应该是无状态的。即使本身会生成数据，也只能在内部使用，不能传递出去。")]),e._v(" "),_("li",[e._v("应该对"),_("code",[e._v("props")]),e._v("传递的参数应该添加一些验证规则")]),e._v(" "),_("li",[_("code",[e._v("props")]),e._v("传入的参数，不建议修改，如果必须要修改，建议定义子组件的"),_("code",[e._v("data")]),e._v("的一个属性来接收"),_("code",[e._v("prop")]),e._v("传入的值。\n如果"),_("code",[e._v("prop")]),e._v("只以一种原始的值传入且需要进行转换，可以使用计算属性，比如把"),_("code",[e._v("prop")]),e._v("传入的值转成小写"),_("code",[e._v("return this.size.trim().toLowerCase()")]),e._v("。")])]),e._v(" "),_("h2",{attrs:{id:"在父组件处理事件"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#在父组件处理事件","aria-hidden":"true"}},[e._v("#")]),e._v(" 在父组件处理事件")]),e._v(" "),_("ol",[_("li",[e._v("事件的处理方法应当尽量放到父组件中，通用组件本身只作为一个中转，降低耦合性，保证了通用组件中的数据不被污染")]),e._v(" "),_("li",[e._v("组件内部的一些交互行为，或者处理的数据只在组件内部传递，这时候就不需要用"),_("code",[e._v("$emit")]),e._v("了")])]),e._v(" "),_("h2",{attrs:{id:"留一个slot"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#留一个slot","aria-hidden":"true"}},[e._v("#")]),e._v(" 留一个"),_("code",[e._v("slot")])]),e._v(" "),_("ol",[_("li",[e._v("一个通用组件，往往不能够完美的适应所有应用场景，留一个"),_("code",[e._v("slot")]),e._v("来让父组件实现一些功能。")]),e._v(" "),_("li",[e._v("开发通用组件的时候，只要不是独立性很高的组件，建议都留一个"),_("code",[e._v("slot")]),e._v("，即使还没想好用来干什么。")])]),e._v(" "),_("h2",{attrs:{id:"不要依赖-vuex"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#不要依赖-vuex","aria-hidden":"true"}},[e._v("#")]),e._v(" 不要依赖 Vuex")]),e._v(" "),_("ol",[_("li",[e._v("Vuex 用来做组件状态管理的，类似一个全局变量，会一直占用内存，除非刷新页面，不建议用来非父子组件通信。")]),e._v(" "),_("li",[e._v("Vuex 在写入数据庞大的 state 的时候，就会产生内存泄露")]),e._v(" "),_("li",[e._v("如果刷新页面时需要保留数据，可以通过 web storage 保存。")])]),e._v(" "),_("h2",{attrs:{id:"合理运用-scoped"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#合理运用-scoped","aria-hidden":"true"}},[e._v("#")]),e._v(" 合理运用 scoped")]),e._v(" "),_("p",[e._v("在编写组件的时候，可以在"),_("code",[e._v("<style>")]),e._v("标签中添加"),_("code",[e._v("scoped")]),e._v("，让标签中的样式只对当前组件生效，但是一味的使用"),_("code",[e._v("scoped")]),e._v("，肯定会产生大量的重复代码，\n所以当全局样式写好之后，再针对每个组件，通过"),_("code",[e._v("scoped")]),e._v("属性添加组件样式。")])])}],!1,null,null,null);a.options.__file="component_pack.md";t.default=a.exports}}]);